(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerPolicy&&(r.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?r.credentials="include":o.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}})();function A(t,e){const n=Math.atan2(t.clientY-e.y,t.clientX-e.x);return{x:Math.cos(n),y:Math.sin(n)}}function P(t,e){e&&(e.save(),e.globalAlpha=t.alpha,e.beginPath(),e.arc(t.x,t.y,t.radius,0,Math.PI*2,!1),e.fillStyle=t.color,e.fill(),e.restore())}function M(t,e=1,n,a=!1){a&&(t.alpha-=.01,t.velocity.x*=.97,t.velocity.y*=.97),t.x=t.x+t.velocity.x*e,t.y=t.y+t.velocity.y*e,P(t,n)}function w(t,e,n){Math.hypot(t.x-e.x,t.y-e.y)-t.radius-e.radius<1&&n()}function F(t,e){const n=Math.random()*24+6;let a,o;Math.random()<.5?(a=Math.random()<.5?0-n:e.width,o=Math.random()*e.height):(a=Math.random()*e.width,o=Math.random()<.5?0-n:e.height);const r=Math.atan2(t.y-o,t.x-a),l={x:Math.cos(r),y:Math.sin(r)};return{x:a,y:o,radius:n,color:`hsl(${Math.random()*360}, 50%, 50%)`,velocity:l,alpha:1}}const s=document.querySelector("canvas"),S=document.querySelector("#score"),G=document.querySelector("#endScore"),g=document.querySelector(".modal"),m=document.querySelector("#btn");let y=0;function L(t){S&&(S.innerHTML=`${t}`)}if(s){let t=function(){y=0,L(0),d=[],f=[],c=[],g.style.display="none"},e=function(){setInterval(()=>{c.push(F(h,s))},1e3)},n=function(){f.length&&f.forEach((i,u)=>{M(i,2,l,!0),i.alpha<.1&&f.splice(u,1)})},a=function(){d.length&&d.forEach((i,u)=>{M(i,4,l),(i.x+i.radius<0||i.x-i.radius>s.width||i.y-i.radius<0||i.y-i.radius>s.height)&&d.splice(u,1)})},o=function(){c.length&&c.forEach((i,u)=>{M(i,1,l),w(x,i,()=>{G.innerHTML=`${y}`,g.style.display="flex",cancelAnimationFrame(v)}),d.forEach((p,q)=>{w(p,i,()=>{for(let E=0;E<i.radius*2;E++)f.push({x:p.x,y:p.y,radius:Math.random()*2,color:i.color,velocity:{x:(Math.random()-.5)*(Math.random()*5),y:(Math.random()-.5)*(Math.random()*5)},alpha:1});setTimeout(()=>{d.splice(q,1),c[u].radius-8<8?(y+=100*Math.round(i.radius),L(y),c.splice(u,1)):c[u].radius=c[u].radius-8})})})})},r=function(){v=requestAnimationFrame(r),l&&s&&(l.fillStyle="rgba(0, 0, 0, .1)",l.fillRect(0,0,s.width,s.height),P(x,l),a(),o(),n())};s.width=innerWidth,s.height=innerHeight;const l=s.getContext("2d"),h={x:s.width/2,y:s.height/2},x={x:h.x,y:h.y,radius:10,color:"white",velocity:null,alpha:1};let d=[],f=[],c=[],v=null;addEventListener("click",i=>{d.push({x:h.x,y:h.y,radius:5,color:"white",velocity:A(i,h),alpha:1})}),m==null||m.addEventListener("click",i=>{i.preventDefault(),i.stopPropagation(),t(),r()}),r(),e()}
